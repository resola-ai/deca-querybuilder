"use strict";var ne=Object.create;var R=Object.defineProperty;var le=Object.getOwnPropertyDescriptor;var ie=Object.getOwnPropertyNames;var se=Object.getPrototypeOf,pe=Object.prototype.hasOwnProperty;var me=(t,o)=>{for(var e in o)R(t,e,{get:o[e],enumerable:!0})},U=(t,o,e,r)=>{if(o&&typeof o=="object"||typeof o=="function")for(let a of ie(o))!pe.call(t,a)&&a!==e&&R(t,a,{get:()=>o[a],enumerable:!(r=le(o,a))||r.enumerable});return t};var V=(t,o,e)=>(e=t!=null?ne(se(t)):{},U(o||!t||!t.__esModule?R(e,"default",{value:t,enumerable:!0}):e,t)),ue=t=>U(R({},"__esModule",{value:!0}),t);var de={};me(de,{MantineActionElement:()=>I,MantineNotToggle:()=>q,MantineShiftActions:()=>G,MantineValueEditor:()=>$,MantineValueSelector:()=>j,QueryBuilderMantine:()=>ce,mantineControlElements:()=>ae});module.exports=ue(de);var te=require("react-querybuilder");var Q=require("@mantine/core"),J=V(require("react")),I=({className:t,handleOnClick:o,label:e,title:r,disabled:a,disabledTranslation:l,testID:i,ruleOrGroup:f,path:v,level:C,context:N,validation:k,schema:w,...A})=>J.createElement(Q.Button,{...A,"data-testid":i,type:"button",className:t,title:l&&a?l.title:r,onClick:s=>o(s),disabled:a&&!l},l&&a?l.label:e);var K=require("@mantine/core"),W=V(require("react")),q=({className:t,handleOnChange:o,label:e,checked:r,title:a,disabled:l,testID:i,path:f,level:v,context:C,validation:N,schema:k,ruleGroup:w,...A})=>W.createElement(K.Switch,{...A,"data-testid":i,label:e,className:t,title:a,disabled:l,checked:r,onChange:s=>o(s.target.checked)});var Y=require("@mantine/core"),F=V(require("react")),G=({shiftUp:t,shiftDown:o,shiftUpDisabled:e,shiftDownDisabled:r,disabled:a,className:l,labels:i,titles:f,testID:v})=>F.createElement("div",{"data-testid":v,className:l},F.createElement(Y.Button,{type:"button",size:"compact-xs",disabled:a||e,onClick:t,title:f?.shiftUp},i?.shiftUp),F.createElement(Y.Button,{type:"button",size:"compact-xs",disabled:a||r,onClick:o,title:f?.shiftDown},i?.shiftDown));var d=require("@mantine/core"),_=require("@mantine/dates"),h=V(require("dayjs")),p=V(require("react")),x=require("react-querybuilder");var D=require("react-querybuilder"),X=t=>{let o=(0,D.uniqOptList)(t);return(0,D.isOptionGroupArray)(o)?o.map(e=>({...e,group:e.label,items:e.options})):o.map(e=>({name:e.name,value:e.name,label:e.label}))},E=t=>{if(typeof t=="number")return t;let o=(0,D.parseNumber)(t,{parseNumbers:"native"});return isNaN(o)?"":o};var H="YYYY-MM-DD",Z=`${H}THH:mm:ss`,$=t=>{let{fieldData:o,operator:e,value:r,handleOnChange:a,title:l,className:i,type:f,inputType:v,values:C=[],listsAsArrays:N,parseNumbers:k,separator:w,valueSource:A,disabled:s,testID:M,selectorComponent:B=t.schema.controls.valueSelector,validation:oe,extraProps:u,...L}=t,{valueAsArray:b,multiValueHandler:S}=(0,x.useValueEditor)({handleOnChange:a,inputType:v,operator:e,value:r,type:f,listsAsArrays:N,parseNumbers:k,values:C});if(e==="null"||e==="notNull")return null;let P=o?.placeholder??"",g=["in","notIn"].includes(e)?"text":v||"text";if((e==="between"||e==="notBetween")&&(f==="select"||f==="text")&&g!=="date"){let n=["from","to"].map((y,c)=>{if(g==="number")return p.createElement(d.NumberInput,{key:y,placeholder:P,value:E(b[c]),className:`${x.standardClassnames.valueListItem} input`,disabled:s,onChange:m=>S(E(m),c),...u});if(g==="datetime-local"){let m=(0,h.default)(b[c]),re=m.isValid()?m.toDate():null;return p.createElement(_.DateTimePicker,{placeholder:void 0,onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,key:y,value:re,className:x.standardClassnames.valueListItem,disabled:s,withSeconds:!0,onChange:z=>S(z?(0,h.default)(z).format(Z):"",c),...u})}return f==="text"?p.createElement(d.TextInput,{key:y,type:g,placeholder:P,value:b[c]??"",className:`${x.standardClassnames.valueListItem} input`,disabled:s,onChange:m=>S(m.target.value,c),...u}):p.createElement(B,{...L,key:y,className:x.standardClassnames.valueListItem,handleOnChange:m=>S(m,c),disabled:s,value:b[c]??(0,x.getFirstOption)(C),options:C,listsAsArrays:N})});return p.createElement("span",{"data-testid":M,className:i,title:l},n[0],w,n[1])}switch(f){case"select":case"multiselect":return p.createElement(B,{...L,title:l,className:i,handleOnChange:a,options:C,value:r,disabled:s,multiple:f==="multiselect",listsAsArrays:N});case"textarea":return p.createElement(d.Textarea,{className:i,value:r,title:l,placeholder:P,disabled:s,onChange:n=>a(n.target.value),...u});case"switch":return p.createElement(d.Switch,{className:i,title:l,checked:r,disabled:s,onChange:n=>a(n.target.checked),...u});case"checkbox":return p.createElement(d.Checkbox,{className:i,title:l,checked:r,disabled:s,onChange:n=>a(n.target.checked),...u});case"radio":return p.createElement(d.Radio.Group,{className:i,title:l,value:r,onChange:a,...u},C.map(n=>p.createElement(d.Radio,{key:n.name,value:n.name,label:n.label,disabled:s})))}if(g==="date"||g==="datetime-local"){if(e==="between"||e==="notBetween"){let n=[null,null].map((y,c)=>{if(!b[c])return y;let m=(0,h.default)(b[c]);return m.isValid()||(m=(0,h.default)(`${(0,h.default)().format("YYYY-MM-DD")}T${b[c]}`)),m.isValid()?m.toDate():y});return p.createElement(_.DatePickerInput,{"data-testid":M,type:"range",value:n,className:i,disabled:s,onChange:y=>{let c=y.map(m=>m?(0,h.default)(m).format(H):"");a(N?c:c.join(","))},...u})}return g==="datetime-local"?p.createElement(_.DateTimePicker,{placeholder:void 0,onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,"data-testid":M,value:r&&(0,h.default)(r).isValid()?(0,h.default)(r).toDate():null,className:i,disabled:s,withSeconds:!0,onChange:n=>a(n?(0,h.default)(n).format(Z):""),...u}):p.createElement(_.DatePickerInput,{"data-testid":M,type:"default",value:r&&(0,h.default)(r).isValid()?(0,h.default)(r).toDate():null,className:i,disabled:s,onChange:n=>a(n?(0,h.default)(n).format(H):""),...u})}return g==="number"?p.createElement(d.NumberInput,{"data-testid":M,title:l,className:i,placeholder:P,disabled:s,value:E(r),onChange:n=>a(E(n)),...u}):p.createElement(d.TextInput,{"data-testid":M,title:l,className:i,placeholder:P,type:g,disabled:s,value:r,onChange:n=>a(n.target.value),...u})};var O=require("@mantine/core"),T=V(require("react")),ee=require("react-querybuilder");var j=({className:t,handleOnChange:o,options:e,value:r,title:a,disabled:l,multiple:i,listsAsArrays:f,testID:v,field:C,fieldData:N,rule:k,rules:w,path:A,level:s,context:M,validation:B,schema:oe,...u})=>{let{onChange:L,val:b}=(0,ee.useValueSelector)({handleOnChange:o,listsAsArrays:f,multiple:i,value:r}),S=T.useMemo(()=>X(e),[e]),P=g=>L(g??"");return i?T.createElement(O.MultiSelect,{...u,"data-testid":v,title:a,className:t,data:S,disabled:l,value:b,onChange:P}):T.createElement(O.Select,{...u,"data-testid":v,title:a,className:t,value:b,data:S,disabled:l,onChange:P})};var ae={actionElement:I,notToggle:q,shiftActions:G,valueEditor:$,valueSelector:j},ce=(0,te.getCompatContextProvider)({controlElements:ae});0&&(module.exports={MantineActionElement,MantineNotToggle,MantineShiftActions,MantineValueEditor,MantineValueSelector,QueryBuilderMantine,mantineControlElements});
//# sourceMappingURL=react-querybuilder_mantine.cjs.production.js.map